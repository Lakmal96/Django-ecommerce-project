{% extends 'base.html' %}
{% load static %}

{% block content %}


<div class="container">
    <div class="card my-4">

        <!-- product image -->
        <div class="row">
            <div class="col-md-6">
                <a href="#"><img src="{{single_product.images.url}}" class="img-fluid"></a>
            </div>
            <!-- end product image -->

            <!-- product details -->
            <div class="col-md-6">
                <h2 class="my-2">{{single_product.product_name}}</h2>
                <h4>$ {{single_product.price}}</h4>
                <p>{{single_product.description}}</p>
                <hr>
                <!-- end product details -->

                <!-- product variations and add to cart -->
                <form action="{% url 'add_to_cart' single_product.id %}" method="POST">{% csrf_token %}

                    <h6>Choose Color</h6>

                    <select name="color" id="" class="form-control" style="width:25%" required>

                        <option value="" disabled selected>Select</option>

                        {% for c in single_product.variation_set.colors %}
                        <option value="{{c.variation_value | lower}}">{{c.variation_value | capfirst}}</option>
                        {% endfor %}

                    </select>
                    <br>

                    <h6>Choose Size</h6>

                    <select name="size" id="" class="form-control" style="width:25%" required>
                        <option value="" disabled selected>Select</option>

                        {% for c in single_product.variation_set.sizes %}
                        <option value="{{c.variation_value | lower}}">{{c.variation_value | capfirst}}</option>
                        {% endfor %}

                    </select>

                    <hr>

                    {% if single_product.stock == 0 %}
                    <h2><span class="badge badge-pill badge-danger">Out of Stock</span></h2>
                    {% else %}

                    <button type="submit" class="btn  btn-primary">Add to Cart <i class="fa fa-cart-plus"></i> </button>

                    {% endif %}
                    <!-- end product variations add to cart  -->
                </form>

            </div>
        </div>
    </div>

</div>



{% endblock %}